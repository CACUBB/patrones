load datareal
X1 = f;                            % original data
N = size(f,1);                     % number of samples
s = Bfs_clean(X1,1);               % index of selected features
X2 = X1(:,s);                      % cleaned features

op.m = 20;                         % 20 features will be selected
op.show = 1;                       % display results
op.b.name = 'fisher';              % SFS with fisher criterion
s2 = Bfs_sfs(X2,d,op);             % index of selected features
X2s = X2(:,s2);                    % selected features

opbb.m = 3;
s = Bfs_bb(X2s,d,opbb);             % index of selected features
X2bb = X2s(:,s);                    % selected features

itrain = 1:2:N;
itest  = 2:2:N;

opknn.k = 1;
d2 = Bcl_knn(X2s(itrain,:),d(itrain),X2s(itest,:),opknn);   % knn with 1 neighbors
d2 = Bcl_knn(X2s(itrain,:),d(itrain),X2s(itest,:),opknn);   % knn with 1 neighbors


p1 = Bev_performance(d1,d(itest)) % performance on test data
p2 = Bev_performance(d2,d(itest)) % performance on test data



